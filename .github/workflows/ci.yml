name: Web IDE Backend CI

on:
  push:
    branches: [develop]
  pull_request:
    branches: [main, develop]  # main ë˜ëŠ” develop ë¸Œëœì¹˜ë¡œì˜ PR ìƒì„±/ìˆ˜ì • ì‹œ ì‹¤í–‰ë¨

jobs:
  test:
    runs-on: ubuntu-latest  # GitHub ì œê³µ ìš°ë¶„íˆ¬ í™˜ê²½ì—ì„œ ì‹¤í–‰

    steps:
      # 1. GitHub ì½”ë“œ ì²´í¬ì•„ì›ƒ
      - name: ğŸ”„ Checkout source code
        uses: actions/checkout@v3  # PR ë¸Œëœì¹˜ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ê°€ì ¸ì˜´

      # 2. JDK 21 ì„¤ì¹˜
      - name: â˜• JDK 21 ì„¤ì¹˜
        uses: actions/setup-java@v3
        with:
          java-version: '21'       # í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” Java ë²„ì „
          distribution: 'temurin'  # Temurinì€ OpenJDK ë°°í¬íŒ ì¤‘ í•˜ë‚˜

      # 3. Gradle ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ì‹¤í–‰
      - name: ğŸ§ª Gradle Build & Test
        run: ./gradlew build       # compile, test ë“± ì „ì²´ ë¹Œë“œ ìˆ˜í–‰
